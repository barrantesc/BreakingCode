(this["webpackJsonpbreakingcode-client"]=this["webpackJsonpbreakingcode-client"]||[]).push([[0],{50:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),r=n(62),s=n.n(r),i=(n(50),n(14)),o=n(15),l=n(5),j=n(70),b=n(110),d=n(112),u=n(109),m=n(69),O=n(63),h=n(64),p=n(42),x=new(function(){function e(){Object(O.a)(this,e)}return Object(h.a)(e,[{key:"getProfile",value:function(){return Object(p.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(p.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),g=n(2);var f=function(){return Object(g.jsx)("header",{className:"header",children:Object(g.jsx)("div",{children:Object(g.jsxs)("nav",{children:[Object(g.jsx)(o.b,{to:"/",children:Object(g.jsx)("img",{className:"logo",src:"https://fontmeme.com/permalink/220410/ac11cb84f10a947099bf1c1c6ce07dcb.png",alt:"BreakingCode-logo"})}),Object(g.jsxs)("div",{className:"header-right",children:[Object(g.jsx)(o.b,{to:"/",children:"About"}),Object(g.jsx)(o.b,{to:"/game",children:"Game"}),x.loggedIn()?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.b,{to:"/game"}),Object(g.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),x.logout()},children:"Logout"})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.b,{to:"/login",children:"Login"}),Object(g.jsx)(o.b,{to:"/signup",children:"Signup"})]})]})]})})})};var v=function(){return Object(g.jsx)("section",{class:"hero",children:Object(g.jsx)("div",{class:"about-container",children:Object(g.jsxs)("aside",{className:"about",children:[Object(g.jsxs)("h1",{children:["Welcome to Breaking Code! ",Object(g.jsx)("br",{})]}),Object(g.jsxs)("p",{children:["If you are either getting ready to do a technical web development interview for the first time, ",Object(g.jsx)("br",{}),"or even the 100th, then Breaking Code is the place to test your coding knowledge! ",Object(g.jsx)("br",{})]})]})})})},k=n(10);n.p;function w(e){var t=e.card,n=e.handleChoice,c=e.flipped,a=e.disabled,r=e.data;console.log(r);return r.map((function(e){e.pair_id===e.pair_id&&console.log(e.content)})),Object(g.jsx)("div",{className:"card",onClick:function(){a||n(t)},children:Object(g.jsx)("div",{className:c?"flipped":"",children:r.map((function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{className:"front",alt:"card front",children:" answer "}),Object(g.jsx)("p",{className:"back",children:" question "})]})}))})})}var N=n(65),S=n.n(N),y=[{src:"/img/sample1.jpeg",matched:!1},{src:"/img/sample2.jpeg",matched:!1},{src:"/img/sample3.jpeg",matched:!1},{src:"/img/sample4.jpeg",matched:!1},{src:"/img/sample5.jpeg",matched:!1},{src:"/img/sample6.jpeg",matched:!1}];var C=function(){var e=Object(c.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(k.a)(r,2),o=s[0],l=s[1],j=Object(c.useState)(null),b=Object(k.a)(j,2),d=b[0],u=b[1],m=Object(c.useState)(null),O=Object(k.a)(m,2),h=O[0],p=O[1],x=Object(c.useState)(!1),f=Object(k.a)(x,2),v=f[0],N=f[1],C=Object(c.useState)([]),T=Object(k.a)(C,2),F=T[0],$=T[1],B=function(){var e=[].concat(y,y).sort((function(){return Math.random()-.5})).map((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:Math.random()})}));u(null),p(null),a(e),l(0)},I=function(e){d?p(e):u(e)};Object(c.useEffect)((function(){d&&h&&(N(!0),d.src===h.src?(console.log("The cards match!"),a((function(e){return e.map((function(e){return e.src===d.src?Object(i.a)(Object(i.a)({},e),{},{matched:!0}):e}))})),_()):(setTimeout((function(){return _()}),1e3),console.log("The cards do not match!")))}),[d,h]),Object(c.useEffect)((function(){S.a.get("http://localhost:3001/api/cards").then((function(e){return $(e.data)}))}),[]);var _=function(){u(null),p(null),l((function(e){return e+1})),N(!1)};return Object(c.useEffect)((function(){B()}),[]),Object(g.jsxs)("div",{className:"game-cards",children:[Object(g.jsx)("h1",{className:"game-title",children:" Breaking Code "}),Object(g.jsxs)("button",{onClick:B,children:[Object(g.jsx)("span",{}),Object(g.jsx)("span",{}),Object(g.jsx)("span",{})," New Game"]}),Object(g.jsx)("div",{className:"card-grid",children:n.map((function(e){return Object(g.jsx)(w,{card:e,data:F,handleChoice:I,flipped:e===d||e===h||e.matched,disabled:v},e.id)}))}),Object(g.jsxs)("p",{className:"turns",children:[" Turns: ",o," "]})]})},T=n(71);var F=function(e){var t=e.links;return Object(g.jsx)("div",{children:t.map((function(e){return Object(g.jsx)("span",{children:Object(g.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"icon-link link",children:Object(g.jsx)(T.a,{className:"icons",icon:e.iconName},"".concat(e.icon,"-icon"))})},"".concat(e.icon,"-span"))}))})},$=[{id:"link-1",name:"GitHub",url:"https://github.com/barrantesc/BreakingCode",icon:"github-square",iconName:n(66).a}];var B,I,_=function(){return Object(g.jsx)("footer",{className:"footer",children:Object(g.jsxs)("div",{children:[Object(g.jsx)(F,{links:$}),Object(g.jsx)("p",{children:" \xa9 2022 Ashley Park, Connie Barrantes, Melany Pietrowsk, Trevor Long"})]})})},E=n(26),L=n(34),P=n(27),D=n.n(P),G=n(113),U=n(43),M=n(111),q=Object(M.a)(B||(B=Object(U.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),A=Object(M.a)(I||(I=Object(U.a)(["\n    mutation addUser($username: String!, $email: String!, $password: String!) {\n        addUser(username: $username, email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }    \n    }\n"])));var J=function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(k.a)(t,2),a=n[0],r=n[1],s=Object(G.a)(q),l=Object(k.a)(s,2),j=l[0],b=l[1].error,d=function(){var e=Object(L.a)(D.a.mark((function e(t){var n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j({variables:{email:a.email,password:a.password}});case 4:n=e.sent,c=n.data.login.token,x.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){var t=e.target,n=t.name,c=t.value;r(Object(i.a)(Object(i.a)({},a),{},Object(E.a)({},n,c)))};return Object(g.jsxs)("div",{className:"login-form",children:[Object(g.jsx)(o.b,{to:"/signup",className:"link",children:"\u2190 Go to Signup"}),Object(g.jsx)("h2",{className:"login-title",children:"Login"}),Object(g.jsxs)("form",{onSubmit:d,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{placeholder:"email",name:"email",type:"email",id:"email",onChange:u})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:u})]}),Object(g.jsx)("br",{}),b?Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"error-text",children:"**The provided credentials are incorrect!"})}):null,Object(g.jsx)("br",{}),Object(g.jsx)("div",{className:"flex-row flex-end",children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})]})};var z=function(e){var t=Object(c.useState)({email:"",password:""}),n=Object(k.a)(t,2),a=n[0],r=n[1],s=Object(G.a)(A),l=Object(k.a)(s,1)[0],j=function(){var e=Object(L.a)(D.a.mark((function e(t){var n,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:a.email,password:a.password,username:a.username}});case 3:n=e.sent,c=n.data.addUser.token,x.login(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,c=t.value;r(Object(i.a)(Object(i.a)({},a),{},Object(E.a)({},n,c)))};return Object(g.jsxs)("div",{className:"signup-form",children:[Object(g.jsx)(o.b,{to:"/login",className:"link",children:"\u2190 Go to Login"}),Object(g.jsx)("h2",{className:"signup-title",children:"Signup"}),Object(g.jsxs)("form",{onSubmit:j,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{placeholder:"Username",name:"username",type:"username",id:"username",onChange:b})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{placeholder:"email",name:"email",type:"email",id:"email",onChange:b})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(g.jsx)("br",{}),Object(g.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:b})]}),Object(g.jsx)("br",{}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",children:"Submit"})})]})]})},H=Object(j.a)({uri:"/graphql"}),W=Object(m.a)((function(e,t){var n=t.headers,c=localStorage.getItem("id_token");return{headers:Object(i.a)(Object(i.a)({},n),{},{authorization:c?"Bearer ".concat(c):""})}})),K=new b.a({link:W.concat(H),cache:new d.a});var Q=function(){return Object(g.jsx)(u.a,{client:K,children:Object(g.jsx)(o.a,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(f,{}),Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",element:Object(g.jsx)(v,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/game",element:Object(g.jsx)(C,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/login",element:Object(g.jsx)(J,{})}),Object(g.jsx)(l.a,{exact:!0,path:"/signup",element:Object(g.jsx)(z,{})})]}),Object(g.jsx)(_,{})]})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,115)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(Q,{})}),document.getElementById("root")),R()}},[[99,1,2]]]);
//# sourceMappingURL=main.23b35fe9.chunk.js.map